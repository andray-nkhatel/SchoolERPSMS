### Homeroom Teacher Dashboard API Tests
### Make sure to replace {token} with actual JWT token from login

@baseUrl = http://localhost:5287
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIyMyIsInVuaXF1ZV9uYW1lIjoia2FiYW5pIiwiZW1haWwiOiJrYWJhbmlAY2hzc2Nob29sLmNvbSIsInJvbGUiOiJUZWFjaGVyIiwiRnVsbE5hbWUiOiJNcy4gS2FiYW5pIiwibmJmIjoxNzYwOTgxNDYwLCJleHAiOjE3NjE1ODYyNjAsImlhdCI6MTc2MDk4MTQ2MCwiaXNzIjoiQmx1ZWJpcmRTeXN0ZW0iLCJhdWQiOiJCbHVlYmlyZFN5c3RlbSJ9.kNKzBEvUm2p6BOtQ8qC20ZKhRjQamLOS6eAfk7UhRIU

### 1. Login as a homeroom teacher to get token
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "username": "kabani",
  "password": "kabani@2025"
}

### 2. Get homeroom students with their subjects
GET {{baseUrl}}/api/homeroom/students
Authorization: Bearer {{token}}

### 3. Get homeroom grade information
GET {{baseUrl}}/api/homeroom/grade-info
Authorization: Bearer {{token}}

### 4. Get available subjects for homeroom grade
GET {{baseUrl}}/api/homeroom/available-subjects
Authorization: Bearer {{token}}

### 5. Assign subject to a student
POST {{baseUrl}}/api/homeroom/students/1/subjects
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "subjectId": 5,
  "notes": "Assigned by homeroom teacher"
}

### 6. Remove subject from student
DELETE {{baseUrl}}/api/homeroom/students/1/subjects/5
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "reason": "Student requested removal"
}

### 7. Bulk assign subject to multiple students
POST {{baseUrl}}/api/homeroom/bulk-assign-subjects
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "studentIds": [1, 2, 3],
  "subjectId": 6,
  "notes": "Bulk assignment for new semester"
}

### 8. Debug endpoint - check homeroom teacher status
GET {{baseUrl}}/api/homeroom/debug/status
Authorization: Bearer {{token}}

### 9. Test unauthorized access (should fail)
GET {{baseUrl}}/api/homeroom/students
# No Authorization header - should return 401

### 10. Test with non-homeroom teacher (should fail)
GET {{baseUrl}}/api/homeroom/students
Authorization: Bearer {{token_for_regular_teacher}}
